# SAEM: Managing Memories, and SAM: Capturing Memories

ü•à 2024 Elice AI Hellothon Excellence Award (2nd Place)

### Theme: Putting Heart into AI
In the era of artificial intelligence, focusing on human "empathy," "emotions," and other heartfelt aspects.

# 1. Project Overview
## 1.1 Project Title

### SAEM: Managing Memories, and SAM: Capturing Memories

#### [SAEM: Managing Memories](https://hanzpajqdkxagpyr.tunnel-pt.elice.io/caregiver/home)

#### [SAM: Capturing Memories](https://hanzpajqdkxagpyr.tunnel-pt.elice.io/senior/home)

## 1.2 Project Logo

<div align="center">
    <img src="/Documents/Readme_image/Logo2.png" alt="Logo2">
    <img src="/Documents/Readme_image/Logo1.png" alt="Logo1">
</div>

## 1.3 Project Information
### Development Background
- The rapid growth of the elderly population, transitioning into a super-aged society, and increasing dementia cases.
- A growing demand for caregivers and a shortage of personnel.
- By 2025, South Korea is expected to become a super-aged society, where over 20% of the total population (more than 10 million people) will be elderly.
- Caregivers are required by regulation to conduct cognitive activities at least 3 times a week or 12 times a month.
- However, the current number of caregivers is only 600,000, far from meeting the demand.

### Development Goal
- Provide a simple voice-based journaling system for seniors as part of their cognitive activities.
- Build a system to help caregivers efficiently manage seniors‚Äô statuses and seamlessly facilitate cognitive activity education.
  
### SAM: Capturing Memories
- A service enabling caregivers to create customized cognitive activity guides based on seniors' records.
- Check dementia progression through tailored cognitive activities.

### SAEM: Managing Memories
- A voice-based memo service for seniors to record their memories and daily life.
- Activities like daily journaling and reminiscing can stimulate cognitive function, contributing to dementia prevention or slowing its progression.
- Supports heartfelt experiences through senior-friendly prompts.

### Application
- Caregivers can use seniors‚Äô records to smoothly conduct personalized cognitive activities.
- Seniors‚Äô conditions can be monitored via activity similarity analysis, and cognitive activities can help prevent or slow dementia progression.

### Expected Benefits
- Seniors can maintain cognitive function by recording their daily lives.
- Caregivers can streamline their daily tasks and effectively manage seniors' conditions, alleviating personnel shortages to some extent.

## 1.4 Development Period (2 weeks)
‚è∞ November 10, 2024 ‚Äì November 24, 2024

## 1.5 Team Introduction
### AI Alice Hellothon 2024 Team 1
üë©‚Äçüíª [Yukyung Shim](https://github.com/YukyungShim) (PM)

üë©‚Äçüíª [Seungjae Lim](https://github.com/SeungjaeLim) (BE)

üë©‚Äçüíª [Seokhun Eom](https://github.com/SeokhunEom) (FE)

üë©‚Äçüíª [Songyi Park](https://github.com/songye38) (Designer)

## 1.6 Demo Video (Optional)
üéû Watch Demo Video [Here](https://youtu.be/QQwFdVu0SUA)

# 2. Project Architecture
## 2.1 System Architecture Diagram
![System Architecture](/Documents/Readme_image/SystemArchitecture.png)

## 2.2 Use Case Flow Charts
![FlowChart1](/Documents/Readme_image/FlowChart1.png)
![FlowChart2](/Documents/Readme_image/FlowChart2.png)

## 2.3 ERD (Entity Relationship Diagram)
![ERD](/Documents/Readme_image/ERD.png)

## 2.4 API Documentation
[SAM API Documentation](https://fjtskwttcrchrywg.tunnel-pt.elice.io/redoc)

# 3. Tech Stack

<div align="center">
    
# 3. Tech Stack



### üåê **Languages**
![Python](https://img.shields.io/badge/Python-3776AB?style=flat-square&logo=python&logoColor=white)
![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=flat-square&logo=typescript&logoColor=white)


### üé® **Frontend**
![React](https://img.shields.io/badge/React-61DAFB.svg?&style=flat-square&logo=React&logoColor=white)
![Zustand](https://img.shields.io/badge/Zustand-563D7C.svg?&style=flat-square&logoColor=white)
![React Query](https://img.shields.io/badge/React%20Query-FF4154.svg?&style=flat-square&logo=ReactQuery&logoColor=white)


### üîß **Backend**
![FastAPI](https://img.shields.io/badge/FastAPI-009688.svg?&style=flat-square&logo=FastAPI&logoColor=white)


### üóÑÔ∏è **Database**
![MySQL](https://img.shields.io/badge/MySQL-4479A1.svg?&style=flat-square&logo=MySQL&logoColor=white)



### ‚öôÔ∏è **DevOps & Deployment**
![Elice Cloud](https://img.shields.io/badge/EliceCloud-0078D7.svg?&style=flat-square)


### üì¶ **Package Managers**
![pnpm](https://img.shields.io/badge/pnpm-4B275F.svg?&style=flat-square&logo=pnpm&logoColor=white)
![pip](https://img.shields.io/badge/pip-3776AB.svg?&style=flat-square&logo=python&logoColor=white)

### ü§ù **Collaboration Tools**
![GitHub](https://img.shields.io/badge/GitHub-181717.svg?&style=flat-square&logo=GitHub&logoColor=white)
![Figma](https://img.shields.io/badge/Figma-F24E1E.svg?&style=flat-square&logo=Figma&logoColor=white)
![Google Sheets](https://img.shields.io/badge/Google%20Sheets-34A853.svg?&style=flat-square&logo=GoogleSheets&logoColor=white)
![Discord](https://img.shields.io/badge/Discord-5865F2.svg?&style=flat-square&logo=Discord&logoColor=white)
![Notion](https://img.shields.io/badge/Notion-000000.svg?&style=flat-square&logo=Notion&logoColor=white)


### üõ†Ô∏è **Development Tools**
![VSCode](https://img.shields.io/badge/VSCode-007ACC.svg?&style=flat-square&logo=VisualStudioCode&logoColor=white)
![Jupyter Notebook](https://img.shields.io/badge/Jupyter-F37626.svg?&style=flat-square&logo=Jupyter&logoColor=white)

</div>

# 4. Screenshots
## 4.1 SAM: Managing Memories
| **Main Page**  | **Preparing Records** |**Guide Creation** |
|:------------:|:------------:|:------------:|
| ![Screen11](/Documents/Screen/Screen11.png) | ![Screen12](/Documents/Screen/Screen12.png) | ![Screen13](/Documents/Screen/Screen13.png) |
| **Cognitive Activity (Before)**  | **Cognitive Activity (During)** |**Report** |
|:------------:|:------------:|:------------:|
| ![Screen14](/Documents/Screen/Screen14.png) | ![Screen15](/Documents/Screen/Screen15.png) | ![Screen16](/Documents/Screen/Screen16.png) |

## 4.2 SAM: Capturing Memories
| **Main Page**  | **Record Memories** |**My Memories** |
|:------------:|:------------:|:------------:|
| ![Screen01](/Documents/Screen/Screen01.png) | ![Screen02](/Documents/Screen/Screen02.png) | ![Screen03](/Documents/Screen/Screen03.png) |

# 5. Feature Descriptions

## 5.1 SAM: Managing Memories

### 5.1.1 Main Page 
- Management page for seniors‚Äô cognitive activity records, guide creation, and education.

### 5.1.2 Preparing Records Page
- Prepares records necessary for creating cognitive activity guides.

### 5.1.3 Guide Creation Page
- AI generates questions for cognitive activity based on records, with manual question addition.

### 5.1.4 Cognitive Activity Page
- Conduct cognitive activity sessions using generated guide questions.

### 5.1.5 Report Page
- Automatically generates reports upon completing 3 sessions weekly.

## 5.2 SAM: Capturing Memories

### 5.2.1 Main Page
- Displays a list of recorded memories.

### 5.2.2 Record Memories Page
- Allows seniors to journal daily lives and memories as cognitive stimulation.

### 5.2.3 My Memories Page
- AI generates personalized images and keywords based on recorded memories.

# 6. How to Run

## 6.1. Backend Setup

### 6.1.1. Run FastAPI Server

1. Clone the Repository:
```
git clone https://github.com/SeungjaeLim/SaemSam.git
cd SaemSam
``` 

2. Set Up the Environment:

```
python -m venv venv
source venv/bin/activate  # On Windows, use venv\Scripts\activate
```

3. Install dependencies:
```
pip install -r requirements.txt
```
4. Run FastAPI server:
```
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

### 6.1.2. Create the Database:

1. Start your MySQL server.

2. Create the database and tables using the following commands:

```
CREATE DATABASE saem CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
USE saem;

-- Table: elders
CREATE TABLE elders (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    birth_date DATE NOT NULL,
    gender ENUM('M', 'F') NOT NULL,
    care_level ENUM('1', '2', '3', '4', '5') NOT NULL,
    contact_info VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Table: activity_guides
CREATE TABLE activity_guides (
    id INT AUTO_INCREMENT PRIMARY KEY,
    elder_id INT NOT NULL,
    title VARCHAR(255) NOT NULL,
    have_studied BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (elder_id) REFERENCES elders(id)
);

-- Table: guide_questions
CREATE TABLE guide_questions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    guide_id INT NOT NULL,
    question_id INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (guide_id) REFERENCES activity_guides(id),
    FOREIGN KEY (question_id) REFERENCES questions(id)
);

-- Table: questions
CREATE TABLE questions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    text TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Table: answers
CREATE TABLE answers (
    id INT AUTO_INCREMENT PRIMARY KEY,
    question_id INT NOT NULL,
    elder_id INT NOT NULL,
    response TEXT NOT NULL,
    response_date DATE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (question_id) REFERENCES questions(id),
    FOREIGN KEY (elder_id) REFERENCES elders(id)
);

-- Table: records
CREATE TABLE records (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    content TEXT,
    elder_id INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (elder_id) REFERENCES elders(id)
);

-- Table: record_questions
CREATE TABLE record_questions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    record_id INT NOT NULL,
    question_id INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (record_id) REFERENCES records(id),
    FOREIGN KEY (question_id) REFERENCES questions(id)
);

-- Table: record_keywords
CREATE TABLE record_keywords (
    id INT AUTO_INCREMENT PRIMARY KEY,
    record_id INT NOT NULL,
    keyword_id INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (record_id) REFERENCES records(id),
    FOREIGN KEY (keyword_id) REFERENCES keywords(id)
);

-- Table: keywords
CREATE TABLE keywords (
    id INT AUTO_INCREMENT PRIMARY KEY,
    keyword VARCHAR(255) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Table: keyword_preferences
CREATE TABLE keyword_preferences (
    id INT AUTO_INCREMENT PRIMARY KEY,
    elder_id INT NOT NULL,
    keyword_id INT NOT NULL,
    is_preferred BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (elder_id) REFERENCES elders(id),
    FOREIGN KEY (keyword_id) REFERENCES keywords(id)
);

-- Table: images
CREATE TABLE images (
    id INT AUTO_INCREMENT PRIMARY KEY,
    record_id INT NOT NULL,
    url TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (record_id) REFERENCES records(id)
);

-- Table: analyses
CREATE TABLE analyses (
    id INT AUTO_INCREMENT PRIMARY KEY,
    elder_id INT NOT NULL,
    question_id INT NOT NULL,
    first_answer_id INT NOT NULL,
    last_answer_id INT NOT NULL,
    similarity FLOAT NOT NULL,
    report_id INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (elder_id) REFERENCES elders(id),
    FOREIGN KEY (question_id) REFERENCES questions(id),
    FOREIGN KEY (first_answer_id) REFERENCES answers(id),
    FOREIGN KEY (last_answer_id) REFERENCES answers(id),
    FOREIGN KEY (report_id) REFERENCES reports(id)
);

-- Table: reports
CREATE TABLE reports (
    id INT AUTO_INCREMENT PRIMARY KEY,
    elder_id INT NOT NULL,
    year INT NOT NULL,
    week_number INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (elder_id) REFERENCES elders(id)
);

-- Table: tasks
CREATE TABLE tasks (
    id INT AUTO_INCREMENT PRIMARY KEY,
    elder_id INT NOT NULL,
    year INT NOT NULL,
    week_number INT NOT NULL,
    status INT DEFAULT 0,
    iteration INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (elder_id) REFERENCES elders(id)
);
```

### 6.1.3. Running VLLM Servers for LLM and Embedding

1. Navigate to the server Directory:

```
cd server
```

2. Run the VLLM Servers: Start the LLM and embedding servers using the script:
```
./vllm_serve.sh
```
- The script will:
    - Create a tmux session named Ssaem.
    - Start two VLLM servers:
        - Model 1: `meta-llama/Meta-Llama-3-70B-Instruct`
        - Model 2: `BAAI/bge-multilingual-gemma2`
    - Automatically split the `tmux` panes and attach to the session.

## 6.2. Frontend Setup
1. Navigate to the Frontend Directory:
```
cd fe
```

2. Ensure pnpm is installed. If not, install it first:
```
npm install -g pnpm
```

3. Install frontend dependencies:
```
pnpm install
```

4. Run the Frontend Development Server:

```
pnpm dev --host 0.0.0.0 --port 5173
```


# 7. Reflections
## 7.1 Team Retrospective
- Defining the target audience as seniors and caregivers using the 5W1H method helped focus and detail our service planning.
- Realized the diverse nature of seniors beyond just age brackets and the importance of cognitive activities in combating dementia.
- Although we implemented a voice-based service, it could expand into multimedia formats like photos or videos for richer memory capturing.

## 7.2 Individual Reflections
üë©‚Äçüíª [Songyi Park]()

üë©‚Äçüíª [Yukyung Shim]()

üë©‚Äçüíª [Seokhun Eom]()

üë©‚Äçüíª [Seungjae Lim]()
